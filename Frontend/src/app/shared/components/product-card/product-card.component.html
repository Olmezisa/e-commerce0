<!-- src/app/products/components/product-card/product-card.component.html -->

<div class="relative border p-4 rounded-lg shadow hover:shadow-lg transition">

  <!-- 1) Kalp butonu: sağ üst köşede, z-index ile öne çıkarıldı -->
  <button
    class="absolute top-2 right-2 z-10 text-2xl text-red-500"
    (click)="onToggleWishlist()"
  >
    <mat-icon>
      {{ isWishlisted ? 'favorite' : 'favorite_border' }}
    </mat-icon>
  </button>

  <!-- Resim -->
  <img
    [src]="product.imageUrl"
    alt="{{ product.name }}"
    class="w-full h-48 object-cover mb-4 rounded-lg"
  />

  <h2 class="text-lg font-semibold mb-2">{{ product.name }}</h2>
  <p class="text-gray-600 mb-1">{{ product.price | currency:'USD' }}</p>
  <p class="text-sm text-gray-500 mb-1">{{ product.description }}</p>
  <p class="text-sm text-gray-500 mb-4">Stock: {{ product.stock }}</p>

  <!-- View Details -->
  <button
    class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 mb-2"
    (click)="onViewDetails()"
  >
    View Details
  </button>

  <!-- Select for Compare -->
  <button
    class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700"
    (click)="onSelectCompare()"
    [disabled]="!canSelect"
  >
    {{ selected ? 'Selected' : 'Select for Compare' }}
  </button>
</div>
